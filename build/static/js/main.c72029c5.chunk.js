(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{119:function(t,e,r){},163:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),i=r(8),c=r.n(i),s=r(7),d=r.n(s),o=r(15),l=r(23),u=r(32),j=r.n(u),b={getAll:function(){var t=Object(o.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("/api/vaccinations");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},f="/api/orders",O=function(){var t=Object(o.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get(f);case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(o.a)(d.a.mark((function t(e){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("/api/orders/exp10/"+e);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x={getAll:O,expiredToday:function(){var t=Object(o.a)(d.a.mark((function t(e){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("/api/orders/expired/"+e);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),expiresIn10Days:h},p=(r(41),r(75)),v=r.n(p),y=r(3),g=function(){return Object(y.jsx)("nav",{class:"navbar is-spaced has-shadow mb-6",role:"navigation","aria-label":"main navigation",children:Object(y.jsxs)("div",{class:"navbar-brand",children:[Object(y.jsx)("div",{class:"navbar-item",children:Object(y.jsx)(v.a,{fontSize:"large",color:"primary"})}),Object(y.jsx)("div",{class:"navbar-item",children:Object(y.jsx)("h1",{class:"title has-text-danger-dark ",children:"Vaxxy"})})]})})},m=r(24),A=r(39),I=r(52),w=r(166),B=r(117),S=Object(I.b)({name:"day",initialState:{selectedDay:Object(w.default)(Object(B.default)("2021-01-02"),"yyyy-MM-dd")},reducers:{changeDay:function(t,e){t.selectedDay=Object(w.default)(new Date(e.payload),"yyyy-MM-dd")}}}),k=S.actions.changeDay,D=function(t){return t.day.selectedDay},T=S.reducer,E=r(120),q=r(35),z=r(121),C=r(122),F=r(77),N=r.n(F),V=(r(118),r(189)),Z=function(t){var e=t.titles;return Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{}),e.map((function(t,e){return Object(y.jsx)(V.a,{title:t.tooltip,"aria-label":t.tooltip,placement:"top",arrow:!0,children:Object(y.jsx)("th",{children:t.title})},e)}))]})})},M=function(t){var e=t.title;return Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{style:{fontWeight:"bold"},children:e}),Object(y.jsx)("th",{}),Object(y.jsx)("th",{}),Object(y.jsx)("th",{}),Object(y.jsx)("th",{})]})},W=function(t){var e=t.title,r=t.values,n=t.total;return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e}),r.map((function(t,e){return Object(y.jsx)("td",{style:{textAlign:"center"},children:t},e)})),Object(y.jsx)("td",{style:{fontWeight:"bold",textAlign:"center"},children:n})]})},G=function(t){var e=t.state,r=t.day;return Object(y.jsx)("div",{className:"tableStyle",children:Object(y.jsxs)("table",{class:"table is-hoverable is-narrow",children:[Object(y.jsx)(Z,{titles:[{title:"On ".concat(r),tooltip:"Selected day"},{title:"In total",tooltip:"Status by selected day"}]}),Object(y.jsxs)("tbody",{children:[Object(y.jsx)(W,{title:"Orders arrived (bottle)",values:[e.arrivedToday.length],total:e.totalArrivedBy.length}),Object(y.jsx)(W,{title:"Vaccinations given",values:[e.givenToday.length],total:e.totalGivenBy.length}),Object(y.jsx)(W,{title:"Bottles expired",values:[e.bottlesExpiredToday.length],total:e.expiredBottles.length}),Object(y.jsx)(W,{title:"Vaccinations expiring in 10 days",values:[""],total:e.expiresin10Days})]})]})})},J=function(t){var e=t.state,r=t.brandDetails,n=t.InjectionsArrivedToday,a=t.InjectionsArrived,i=t.day;return Object(y.jsx)("div",{className:"tableStyle",children:Object(y.jsxs)("table",{class:"table is-hoverable is-narrow is-flex-shrink-3",children:[Object(y.jsx)(Z,{titles:[{title:"Zerpfy",tooltip:"5 injections per bottle"},{title:"Antiqua",tooltip:"4 injections per bottle"},{title:"SolarBuddhica",tooltip:"6 injections per bottle"},{title:"Total",tooltip:"In total"}]}),Object(y.jsxs)("tbody",{children:[Object(y.jsx)(M,{title:"Status on ".concat(i)}),Object(y.jsx)(W,{title:"Orders arrived",values:[r.zerpfyArrived.todaysOrders,r.antiquaArrived.todaysOrders,r.solarBuddhicaArrived.todaysOrders],total:e.arrivedToday.length}),Object(y.jsx)(W,{title:"Vaccinations arrived",values:[r.zerpfyArrived.todaysInjections,r.antiquaArrived.todaysInjections,r.solarBuddhicaArrived.todaysInjections],total:n}),Object(y.jsx)(W,{title:"Vaccinations expired",values:[r.zerpfyExpired,r.antiquaExpired,r.solarBuddhicaExpired],total:r.totalExpiredToday}),Object(y.jsx)(M,{title:"Total status per producer"}),Object(y.jsx)(W,{title:"Orders arrived",values:[r.zerpfyArrived.totalOrders,r.antiquaArrived.totalOrders,r.solarBuddhicaArrived.totalOrders],total:e.totalArrivedBy.length}),Object(y.jsx)(W,{title:"Vaccinations arrived",values:[r.zerpfyArrived.totalInjections,r.antiquaArrived.totalInjections,r.solarBuddhicaArrived.totalInjections],total:a})]})]})})},L=r(188),P=(r(119),{totalGivenBy:[],totalArrivedBy:[],givenToday:[],arrivedToday:[],bottlesExpired:[],bottlesExpiredToday:[],expiresin10Days:0}),H={zerpfyArrived:{totalOrders:0,totalInjections:0,todaysOrders:0,todaysInjections:0},zerpfyExpired:0,antiquaArrived:{totalOrders:0,totalInjections:0,todaysOrders:0,todaysInjections:0},antiquaExpired:0,solarBuddhicaArrived:{totalOrders:0,totalInjections:0,todaysOrders:0,todaysInjections:0},solarBuddhicaExpired:0,totalExpiredToday:0},K=function(t){var e=t.vaccinations,r=t.orders,a=t.loading,i=Object(A.c)(D),c=Object(A.b)(),s=Object(n.useState)(P),u=Object(l.a)(s,2),j=u[0],b=u[1],f=Object(n.useState)(H),O=Object(l.a)(f,2),h=O[0],p=O[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),I=g[0],w=g[1],S=Object(n.useState)(!1),T=Object(l.a)(S,2),F=T[0],Z=T[1];Object(n.useEffect)((function(){function t(){return(t=Object(o.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b((function(t){return Object(m.a)(Object(m.a)({},t),{},{totalGivenBy:K(),totalArrivedBy:Q(),givenToday:R(),arrivedToday:U(),expiredBottles:X(),bottlesExpiredToday:Y()})})),rt(),!0!==I&&"2021-01-02"!==i||(tt(),et());case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[i,I,r]);var M=function(t,e){return t+e},W=function(){w(!I)},K=function(){return e.filter((function(t){return Object(E.default)(Object(B.default)(t.vaccinationDate.slice(0,-8)),Object(q.default)(Object(B.default)(i),1))}))},Q=function(){return r.filter((function(t){return Object(E.default)(Object(B.default)(t.arrived.slice(0,-8)),Object(q.default)(Object(B.default)(i),1))}))},R=function(){return e.filter((function(t){return Object(z.default)(Object(B.default)(t.vaccinationDate.slice(0,-8)),Object(B.default)(i))}))},U=function(){return r.filter((function(t){return Object(z.default)(Object(B.default)(t.arrived.slice(0,-8)),Object(B.default)(i))}))},X=function(){return r.filter((function(t){return Object(E.default)(Object(B.default)(t.arrived.slice(0,-8)),Object(C.default)(Object(B.default)(i),29))}))},Y=function(){return r.filter((function(t){return Object(z.default)(Object(B.default)(t.arrived.slice(0,-8)),Object(C.default)(Object(B.default)(i),30))}))},$=h.zerpfyArrived.totalInjections+h.antiquaArrived.totalInjections+h.solarBuddhicaArrived.totalInjections,_=h.zerpfyArrived.todaysInjections+h.antiquaArrived.todaysInjections+h.solarBuddhicaArrived.todaysInjections,tt=function(){var t=function(t){return Q().filter((function(e){return e.vaccine===t}))},e=function(t){return U().filter((function(e){return e.vaccine===t}))},r=function(e){return t(e).map((function(t){return t.injections})).reduce(M,0)},n=function(t){return e(t).map((function(t){return t.injections})).reduce(M,0)};p((function(a){return Object(m.a)(Object(m.a)({},a),{},{zerpfyArrived:{totalOrders:t("Zerpfy").length,totalInjections:r("Zerpfy"),todaysOrders:e("Zerpfy").length,todaysInjections:n("Zerpfy")},antiquaArrived:{totalOrders:t("Antiqua").length,totalInjections:r("Antiqua"),todaysOrders:e("Antiqua").length,todaysInjections:n("Antiqua")},solarBuddhicaArrived:{totalOrders:t("SolarBuddhica").length,totalInjections:r("SolarBuddhica"),todaysOrders:e("SolarBuddhica").length,todaysInjections:n("SolarBuddhica")}})}))},et=function(){var t=Object(o.a)(d.a.mark((function t(){var e,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(!0),t.next=3,x.expiredToday(i);case 3:e=t.sent,r=function(t){return e.filter((function(e){return e.vaccine===t}))},p((function(t){return Object(m.a)(Object(m.a)({},t),{},{totalExpiredToday:e.map((function(t){return t.expired})).reduce(M,0),zerpfyExpired:r("Zerpfy").map((function(t){return t.expired})).reduce(M,0),antiquaExpired:r("Antiqua").map((function(t){return t.expired})).reduce(M,0),solarBuddhicaExpired:r("SolarBuddhica").map((function(t){return t.expired})).reduce(M,0)})})),Z(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),rt=function(){var t=Object(o.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(!0),t.next=3,x.expiresIn10Days(i);case 3:e=t.sent,b((function(t){return Object(m.a)(Object(m.a)({},t),{},{expiresin10Days:e.map((function(t){return t.injections-t.vaccines})).reduce(M,0)})})),Z(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(y.jsx)("div",{class:"container",children:Object(y.jsxs)("div",{class:"columns is-centered-desktop",children:[Object(y.jsx)("div",{class:"column is-8 is-centered-mobile",children:Object(y.jsx)("div",{class:"box",children:a?Object(y.jsx)("div",{className:"spinnerStyle",children:Object(y.jsx)(L.a,{color:"primary",disableShrink:!0})}):Object(y.jsx)(y.Fragment,{children:j.totalArrivedBy.length>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("h2",{class:"has-text-danger-dark is-size-4 has-text-weight-medium mb-6",children:["Status of Orders and Vaccinations \u2003",F?Object(y.jsx)(L.a,{size:"1.4rem",color:"inherit"}):null]}),Object(y.jsx)(G,{state:j,day:i}),I?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"buttonStyle",children:Object(y.jsx)("button",{class:"button is-danger is-light",onClick:W,children:"Hide details"})}),Object(y.jsx)("h3",{class:"has-text-danger-dark is-size-5 mb-3",children:"Details per manufacturer"}),Object(y.jsx)(J,{state:j,brandDetails:h,InjectionsArrived:$,InjectionsArrivedToday:_,day:i})]}):Object(y.jsx)("div",{className:"buttonStyle",children:Object(y.jsx)("button",{class:"button is-danger is-light",onClick:W,children:"Show details"})})]}):null})})}),Object(y.jsx)("div",{class:"column is-4-desktop is-8-tablet is-centered",children:Object(y.jsxs)("div",{class:"box",children:[Object(y.jsx)(V.a,{placement:"top",title:"Check status for a date in between 02.01.2021 - 12.04.2021","aria-label":"Check status for a date in between 02.01.2021 - 13.04.2021",arrow:!0,children:Object(y.jsx)("div",{children:Object(y.jsx)("h2",{class:"has-text-danger-dark is-size-4 has-text-weight-medium has-text-centered",children:"Select a date"})})}),Object(y.jsx)("div",{className:"centerCalendar",children:Object(y.jsx)(N.a,{selected:Object(B.default)(i),onChange:function(t){return c(k(t.toString()))},inline:!0,minDate:new Date("2021-01-02"),maxDate:new Date("2021-04-13")})})]})})]})})},Q=function(){return Object(y.jsx)("footer",{class:"footer",children:Object(y.jsx)("div",{class:"content has-text-centered has-text-danger-dark",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("strong",{children:"Vaxxy"})," by ",Object(y.jsx)("a",{href:"https://github.com/NinaWeiler",children:"Nina Weiler"}),"."]})})})},R=function(){var t=Object(n.useState)([]),e=Object(l.a)(t,2),r=e[0],a=e[1],i=Object(n.useState)([]),c=Object(l.a)(i,2),s=c[0],u=c[1],j=Object(n.useState)(!1),f=Object(l.a)(j,2),O=f[0],h=f[1];return Object(n.useEffect)((function(){function t(){return(t=Object(o.a)(d.a.mark((function t(){var e,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),t.next=3,b.getAll();case 3:return e=t.sent,a(e),t.next=7,x.getAll();case 7:r=t.sent,u(r),h(!1);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(g,{}),Object(y.jsx)(K,{vaccinations:r,orders:s,loading:O}),Object(y.jsx)(Q,{})]})},U=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,191)).then((function(e){var r=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,c=e.getTTFB;r(t),n(t),a(t),i(t),c(t)}))},X=Object(I.a)({reducer:{day:T}});c.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(A.a,{store:X,children:Object(y.jsx)(R,{})})}),document.getElementById("root")),U()},41:function(t,e,r){}},[[163,1,2]]]);
//# sourceMappingURL=main.c72029c5.chunk.js.map