(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{166:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(8),c=n.n(i),s=n(7),d=n.n(s),o=n(15),l=n(18),u=n(34),j=n.n(u),b={getAll:function(){var e=Object(o.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/api/vaccinations");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},O="/api/orders",x=function(){var e=Object(o.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(O);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/api/orders/exp10/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f={getAll:x,expiredToday:function(){var e=Object(o.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/api/orders/expired/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),expiresIn10Days:h},p=(n(28),n(83)),v=n.n(p),y=n(2),m=function(){return Object(y.jsx)("nav",{class:"navbar is-spaced has-shadow mb-6",role:"navigation","aria-label":"main navigation",children:Object(y.jsxs)("div",{class:"navbar-brand",children:[Object(y.jsx)("div",{class:"navbar-item",children:Object(y.jsx)(v.a,{fontSize:"large",color:"primary"})}),Object(y.jsx)("div",{class:"navbar-item",children:Object(y.jsx)("h1",{class:"title has-text-danger-dark ",children:"Vaxxy"})})]})})},g=n(24),A=n(26),S=n(56),w=n(169),I=n(122),B=Object(S.b)({name:"day",initialState:{selectedDay:Object(w.default)(Object(I.default)("2021-01-02"),"yyyy-MM-dd")},reducers:{changeDay:function(e,t){e.selectedDay=Object(w.default)(new Date(t.payload),"yyyy-MM-dd")}}}),k=B.actions.changeDay,z=function(e){return e.day.selectedDay},D=B.reducer,T=n(162),E=n(37),q=n(157),C=n(127),V=(n(80),n(192)),N=n(52),F=n.n(N),Z=function(e){var t=e.titles;return Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{}),t.map((function(e,t){return Object(y.jsx)(V.a,{title:e.tooltip,"aria-label":e.tooltip,placement:"top",arrow:!0,children:Object(y.jsxs)("th",{children:[e.title," ",Object(y.jsx)(F.a,{fontSize:"small"})]})},t)}))]})})},M=function(e){var t=e.title;return Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{style:{fontWeight:"bold"},children:t}),Object(y.jsx)("th",{}),Object(y.jsx)("th",{}),Object(y.jsx)("th",{}),Object(y.jsx)("th",{})]})},W=function(e){var t=e.title,n=e.values,r=e.total;return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:t}),n.map((function(e,t){return Object(y.jsx)("td",{style:{textAlign:"center"},children:e},t)})),Object(y.jsx)("td",{style:{fontWeight:"bold",textAlign:"center"},children:r})]})},G=function(e){var t=e.state,n=e.day;return Object(y.jsx)("div",{className:"tableStyle",children:Object(y.jsxs)("table",{class:"table is-hoverable is-narrow",children:[Object(y.jsx)(Z,{titles:[{title:"On ".concat(n),tooltip:"Selected day"},{title:"In total",tooltip:"Status by selected day"}]}),Object(y.jsxs)("tbody",{children:[Object(y.jsx)(W,{title:"Orders arrived (bottles)",values:[t.arrivedToday.length],total:t.totalArrivedBy.length}),Object(y.jsx)(W,{title:"Vaccinations given",values:[t.givenToday.length],total:t.totalGivenBy.length}),Object(y.jsx)(W,{title:"Bottles expired",values:[t.bottlesExpiredToday.length],total:t.expiredBottles.length}),Object(y.jsx)(W,{title:"Vaccinations expiring in 10 days",values:[""],total:t.expiresin10Days})]})]})})},J=function(e){var t=e.state,n=e.brandDetails,r=e.InjectionsArrivedToday,a=e.InjectionsArrived,i=e.day;return Object(y.jsx)("div",{className:"tableStyle",children:Object(y.jsxs)("table",{class:"table is-hoverable is-narrow is-flex-shrink-5",children:[Object(y.jsx)(Z,{titles:[{title:"Zerpfy",tooltip:"5 injections per bottle"},{title:"Antiqua",tooltip:"4 injections per bottle"},{title:"SolarBuddhica",tooltip:"6 injections per bottle"},{title:"Total",tooltip:"Status by selected day"}]}),Object(y.jsxs)("tbody",{children:[Object(y.jsx)(M,{title:"Status on ".concat(i)}),Object(y.jsx)(W,{title:"Orders arrived",values:[n.zerpfyArrived.todaysOrders,n.antiquaArrived.todaysOrders,n.solarBuddhicaArrived.todaysOrders],total:t.arrivedToday.length}),Object(y.jsx)(W,{title:"Vaccinations arrived",values:[n.zerpfyArrived.todaysInjections,n.antiquaArrived.todaysInjections,n.solarBuddhicaArrived.todaysInjections],total:r}),Object(y.jsx)(W,{title:"Vaccinations expired",values:[n.zerpfyExpired,n.antiquaExpired,n.solarBuddhicaExpired],total:n.totalExpiredToday}),Object(y.jsx)(M,{title:"Total per manufacturer"}),Object(y.jsx)(W,{title:"Orders arrived",values:[n.zerpfyArrived.totalOrders,n.antiquaArrived.totalOrders,n.solarBuddhicaArrived.totalOrders],total:t.totalArrivedBy.length}),Object(y.jsx)(W,{title:"Vaccinations arrived",values:[n.zerpfyArrived.totalInjections,n.antiquaArrived.totalInjections,n.solarBuddhicaArrived.totalInjections],total:a})]})]})})},L=n(86),P=n.n(L),H=n(85),K=n.n(H),Q=function(){var e=Object(r.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1],i=function(){a(!n)};return Object(y.jsx)("div",{children:n?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{class:"content",className:"spaceBetween",children:[Object(y.jsx)("h2",{class:"has-text-danger-dark is-size-4 has-text-weight-medium mb-3",children:"About Vaxxy"}),Object(y.jsx)("button",{class:"button",onClick:i,children:Object(y.jsx)("span",{children:Object(y.jsx)(V.a,{title:"Close","aria-label":"Close",placement:"top",arrow:!0,children:Object(y.jsx)(K.a,{fontSize:"medium",color:"primary"})})})})]}),Object(y.jsxs)("div",{class:"block",children:[Object(y.jsx)("p",{children:"Vaxxy displays information about vaccination orders and vaccinations (given and expired)."}),Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:"A single order is a bottle containing several vaccinations/injections (amount depends on vaccine manufacturer)."}),Object(y.jsx)("li",{children:"Injections expire 30 days after the arrival of the source bottle."}),Object(y.jsx)("li",{children:"A bottle is counted as expired if it has arrived at least 30 days before selected date (also empty bottles are counted here)."})]})]})]}):Object(y.jsxs)("div",{class:"content",className:"spaceBetween",children:[Object(y.jsx)("h2",{class:"has-text-danger-dark is-size-6 has-text-weight-medium",style:{alignSelf:"center"},children:"About Vaxxy"}),Object(y.jsx)("button",{class:"button",onClick:i,children:Object(y.jsx)("span",{children:Object(y.jsx)(V.a,{title:"Show information","aria-label":"Show information",placement:"top",arrow:!0,children:Object(y.jsx)(P.a,{fontSize:"medium",color:"primary"})})})})]})})},R=n(87),U=n.n(R),X=(n(82),function(){var e=Object(A.c)(z),t=Object(A.b)();return Object(y.jsx)("div",{class:"box",children:Object(y.jsxs)("div",{className:"boxStyle",children:[Object(y.jsx)(V.a,{placement:"top",title:"Check status for a date in between 02.01.2021 - 12.04.2021","aria-label":"Check status for a date in between 02.01.2021 - 13.04.2021",arrow:!0,children:Object(y.jsx)("div",{children:Object(y.jsxs)("h2",{class:"has-text-danger-dark is-size-4 has-text-weight-medium has-text-centered",children:["Select a date ",Object(y.jsx)(F.a,{fontSize:"small"})]})})}),Object(y.jsx)("div",{className:"centerCalendar",children:Object(y.jsx)(U.a,{selected:Object(I.default)(e),onChange:function(e){return t(k(e.toString()))},inline:!0,minDate:new Date("2021-01-02"),maxDate:new Date("2021-04-13")})})]})})}),Y=n(191),$={totalGivenBy:[],totalArrivedBy:[],givenToday:[],arrivedToday:[],bottlesExpired:[],bottlesExpiredToday:[],expiresin10Days:0},_={zerpfyArrived:{totalOrders:0,totalInjections:0,todaysOrders:0,todaysInjections:0},zerpfyExpired:0,antiquaArrived:{totalOrders:0,totalInjections:0,todaysOrders:0,todaysInjections:0},antiquaExpired:0,solarBuddhicaArrived:{totalOrders:0,totalInjections:0,todaysOrders:0,todaysInjections:0},solarBuddhicaExpired:0,totalExpiredToday:0},ee=function(e){var t=e.vaccinations,n=e.orders,a=e.loading,i=Object(A.c)(z),c=Object(r.useState)($),s=Object(l.a)(c,2),u=s[0],j=s[1],b=Object(r.useState)(_),O=Object(l.a)(b,2),x=O[0],h=O[1],p=Object(r.useState)(!1),v=Object(l.a)(p,2),m=v[0],S=v[1],w=Object(r.useState)(!1),B=Object(l.a)(w,2),k=B[0],D=B[1];Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j((function(e){return Object(g.a)(Object(g.a)({},e),{},{totalGivenBy:F(),totalArrivedBy:Z(),givenToday:M(),arrivedToday:W(),expiredBottles:L(),bottlesExpiredToday:P()})})),ee(),!0!==m&&"2021-01-02"!==i||(R(),U());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,m,n]);var V=function(e,t){return e+t},N=function(){S(!m)},F=function(){return t.filter((function(e){return Object(T.default)(Object(I.default)(e.vaccinationDate.slice(0,-8)),Object(E.default)(Object(I.default)(i),1))}))},Z=function(){return n.filter((function(e){return Object(T.default)(Object(I.default)(e.arrived.slice(0,-8)),Object(E.default)(Object(I.default)(i),1))}))},M=function(){return t.filter((function(e){return Object(q.default)(Object(I.default)(e.vaccinationDate.slice(0,-8)),Object(I.default)(i))}))},W=function(){return n.filter((function(e){return Object(q.default)(Object(I.default)(e.arrived.slice(0,-8)),Object(I.default)(i))}))},L=function(){return n.filter((function(e){return Object(T.default)(Object(I.default)(e.arrived.slice(0,-8)),Object(C.default)(Object(I.default)(i),29))}))},P=function(){return n.filter((function(e){return Object(q.default)(Object(I.default)(e.arrived.slice(0,-8)),Object(C.default)(Object(I.default)(i),30))}))},H=x.zerpfyArrived.totalInjections+x.antiquaArrived.totalInjections+x.solarBuddhicaArrived.totalInjections,K=x.zerpfyArrived.todaysInjections+x.antiquaArrived.todaysInjections+x.solarBuddhicaArrived.todaysInjections,R=function(){var e=function(e){return Z().filter((function(t){return t.vaccine===e}))},t=function(e){return W().filter((function(t){return t.vaccine===e}))},n=function(t){return e(t).map((function(e){return e.injections})).reduce(V,0)},r=function(e){return t(e).map((function(e){return e.injections})).reduce(V,0)};h((function(a){return Object(g.a)(Object(g.a)({},a),{},{zerpfyArrived:{totalOrders:e("Zerpfy").length,totalInjections:n("Zerpfy"),todaysOrders:t("Zerpfy").length,todaysInjections:r("Zerpfy")},antiquaArrived:{totalOrders:e("Antiqua").length,totalInjections:n("Antiqua"),todaysOrders:t("Antiqua").length,todaysInjections:r("Antiqua")},solarBuddhicaArrived:{totalOrders:e("SolarBuddhica").length,totalInjections:n("SolarBuddhica"),todaysOrders:t("SolarBuddhica").length,todaysInjections:r("SolarBuddhica")}})}))},U=function(){var e=Object(o.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,f.expiredToday(i);case 3:t=e.sent,n=function(e){return t.filter((function(t){return t.vaccine===e}))},h((function(e){return Object(g.a)(Object(g.a)({},e),{},{totalExpiredToday:t.map((function(e){return e.expired})).reduce(V,0),zerpfyExpired:n("Zerpfy").map((function(e){return e.expired})).reduce(V,0),antiquaExpired:n("Antiqua").map((function(e){return e.expired})).reduce(V,0),solarBuddhicaExpired:n("SolarBuddhica").map((function(e){return e.expired})).reduce(V,0)})})),D(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(o.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,f.expiresIn10Days(i);case 3:t=e.sent,j((function(e){return Object(g.a)(Object(g.a)({},e),{},{expiresin10Days:t.map((function(e){return e.injections-e.vaccines})).reduce(V,0)})})),D(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{class:"container",children:[Object(y.jsxs)("div",{class:"columns is-centered-desktop",children:[Object(y.jsx)("div",{class:"column is-8-desktop is-centered-mobile",children:Object(y.jsx)("div",{class:"box",children:a?Object(y.jsx)("div",{className:"spinnerStyle",children:Object(y.jsx)(Y.a,{color:"primary",disableShrink:!0})}):Object(y.jsx)(y.Fragment,{children:u.totalArrivedBy.length>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("h2",{class:"has-text-danger-dark is-size-4 has-text-weight-medium mb-6",children:["Status of Orders and Vaccinations \u2003",k?Object(y.jsx)(Y.a,{size:"1.4rem",color:"inherit"}):null]}),Object(y.jsx)(G,{state:u,day:i}),m?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"buttonStyle",children:Object(y.jsx)("button",{class:"button is-danger is-light",onClick:N,children:"Hide details"})}),Object(y.jsx)("h3",{class:"has-text-danger-dark is-size-5 mb-3",children:"Details per manufacturer"}),Object(y.jsx)(J,{state:u,brandDetails:x,InjectionsArrived:H,InjectionsArrivedToday:K,day:i})]}):Object(y.jsx)("div",{className:"buttonStyle",children:Object(y.jsx)("button",{class:"button is-danger is-light",onClick:N,children:"Show details"})})]}):null})})}),Object(y.jsx)("div",{class:"column is-4-desktop is-8-tablet is-centered",children:Object(y.jsx)(X,{})})]}),Object(y.jsx)("div",{class:"columns is-centered",children:Object(y.jsx)("div",{class:"column px-3 is-8-tablet is-12-desktop",children:Object(y.jsx)("div",{class:"box",children:Object(y.jsx)(Q,{})})})})]})},te=function(){return Object(y.jsx)("footer",{class:"footer",children:Object(y.jsx)("div",{class:"content has-text-centered has-text-danger-dark",children:Object(y.jsxs)("p",{children:[Object(y.jsx)("strong",{children:"Vaxxy"})," by ",Object(y.jsx)("a",{href:"https://github.com/NinaWeiler/Solita-Vaccination-Exercise",children:"Nina Weiler"})]})})})},ne=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)([]),c=Object(l.a)(i,2),s=c[0],u=c[1],j=Object(r.useState)(!1),O=Object(l.a)(j,2),x=O[0],h=O[1];return Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,b.getAll();case 3:return t=e.sent,a(t),e.next=7,f.getAll();case 7:n=e.sent,u(n),h(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(m,{}),Object(y.jsx)(ee,{vaccinations:n,orders:s,loading:x}),Object(y.jsx)(te,{})]})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,194)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))},ae=Object(S.a)({reducer:{day:D}});c.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(A.a,{store:ae,children:Object(y.jsx)(ne,{})})}),document.getElementById("root")),re()},28:function(e,t,n){},82:function(e,t,n){}},[[166,1,2]]]);
//# sourceMappingURL=main.62631d1e.chunk.js.map